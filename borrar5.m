% Mapa original codificado como matriz de caracteres
map = [
    '1111111111100000000000000000000000000000';
    '1000000000100000000000000000000000000000';
    '1000000000100111111111111111000001111110';
    '1000000000100111111111111111000001111110';
    '1000000000100111111111111111000001111110';
    '1000000000100111111111111111000001111110';
    '1000000000100111111111111111000001111110';
    '1000000000100111111111111111000000000000';
    '1000000000000111111111111111000000000000';
    '1000000000000111111111111111000001111110';
    '1111111100000000000000000000000001111110';
    '0000000000000000000000000000000001111110';
    '1011110000000000000000000000000001111110';
    '1011110000000011111000111110000001111110';
    '1011110000000011111000111110000000000000';
    '1011110000000011111000111110000000000000';
    '1011110000000011111000111110000001111110';
    '1011110000000011111000111110000001111110';
    '1000000000000011111000111110000001111110';
    '1011110000000000000000000000000001111110';
    '1011110000000000000000000000000001111110';
    '1011110000000000000000000000000000000000';
    '1011110000000000000000000000000000000000';
    '1011110000000011111000111110000001111110';
    '1011110000000011111000111110000001111110';
    '1000000000000011111000111110000001111110';
    '1011110000000011111000111110000001111110';
    '1011110000000011111000111110000001111110';
    '1011110000000011111000111110000000000000';
    '1011110000000000000000000000000001111110';
    '1011110000000000000000000000000001111110';
    '1011110000000000000000000000000001111110';
    '1000000000000111111111111111000001111110';
    '1011110000000111111111111111000001111110';
    '1011110000000111111111111111000000000000';
    '1011110000000111111111111111000001111110';
    '1011110000000111111111111111000001111110';
    '1011110000000111111111111111000001111110';
    '1011110000000111111111111111000001111110';
    '1000000000000000000000000000000001111110'
];

% Convertimos el mapa de caracteres a binario
map = map - '0';

% Coordenadas iniciales y finales
start = [13, 22]; % Coordenadas iniciales
goal = [29, 10];  % Coordenadas finales
%Añadir si advanced A*
connecting_distance = 1; % Distancia de conexión entre vecinos (puede ser mayor)
% Parámetros
%robot_radius = 0.5; % Radio del robot (en metros)
%cells_per_meter = 5; % Resolución del mapa (número de celdas por metro)

% % Ejecutar A* primero
% path = a_star(map, start, goal);

% Ejecutar el algoritmo A* avanzado
path = advanced_a_star(map, start, goal, connecting_distance);



% Si A* no encuentra un camino, intentar con RRT*
% if isempty(path)
%     disp('A* no encontró un camino. Ejecutando RRT*...');
%     path = rrt_star(map, start, goal);
% 
%     if isempty(path)
%         disp('RRT* tampoco encontró un camino.');
%     else
%         disp('RRT* encontró un camino.');
%     end
% else
%     disp('A* encontró un camino.');
% end
